#!/bin/bash
# 16.11.2023 Скрипт в разработке
# Натройка IP адреса пока только для CENTOS (Росплатформа, Виртуоза)
# в интератктивном режими для указаного интерфейса, перед испралением делается копия файла интерфейса
# dhcp на статитку.

# Тут будет модуль проверки Дистрибутива
# Тут будет проверка существования файлов [ -f file ]


#Путь к файлу сетевых настроек
pathIP=/etc/sysconfig/network-scripts

ip -br a
read -p "Укажите интерфейс для настройки:" ifice
echo "Сделать бекап $ifice [Y/n]: "
read -p "Укажите IP адрес, который будет присвоин сетевому интрефейсу" ipadd
read -p "Укажите маску (пример 24):" mask
read -p "Укажите DNS"

# ${ifice}$(date +"%y.%m.%d-%H.%M")) - загать в переменную

cp $pathIP/ifice $(echo ${ifice}$(date +"%y.%m.%d-%H.%M"))
if [ -f $pathIP/$(echo ${ifice}$(date +"%y.%m.%d-%H.%M")) ]; then
echo "Файл был сохранен $(echo ${ifice}$(date +"%y.%m.%d-%H.%M")) успешно"
else
echo "Сохранить файл НЕ получилось!"

fi
